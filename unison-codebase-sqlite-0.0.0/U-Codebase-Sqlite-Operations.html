<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>U.Codebase.Sqlite.Operations</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unison-codebase-sqlite-0.0.0</span><ul class="links" id="page-menu"><li><a href="src/U.Codebase.Sqlite.Operations.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">U.Codebase.Sqlite.Operations</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">data version</a></li><li><a href="#g:2">branches</a></li><li><a href="#g:3">terms</a></li><li><a href="#g:4">decls</a></li><li><a href="#g:5">patches</a></li><li><a href="#g:6">test for stuff in codebase</a></li><li><a href="#g:7">dubiously exported stuff involving database ids</a></li><li><a href="#g:8">watch expression cache</a></li><li><a href="#g:9">indexes</a><ul><li><a href="#g:10">nearest common ancestor</a></li><li><a href="#g:11">prefix index</a></li><li><a href="#g:12">dependents index</a></li><li><a href="#g:13">type index</a></li><li><a href="#g:14">type mentions index</a></li></ul></li><li><a href="#g:15">delete me</a></li><li><a href="#g:16">Error types</a><ul><li><a href="#g:17">Constraint kinds</a></li></ul></li><li><a href="#g:18">somewhat unexpectedly unused definitions</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:dataVersion">dataVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a></li><li class="src short"><a href="#v:saveRootBranch">saveRootBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:loadMaybeRootCausalHash">loadMaybeRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:loadRootCausalHash">loadRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a></li><li class="src short"><a href="#v:loadRootCausal">loadRootCausal</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m)</li><li class="src short"><a href="#v:saveBranch">saveBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:loadCausalBranchByCausalHash">loadCausalBranchByCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m))</li><li class="src short"><a href="#v:saveTermComponent">saveTermComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:loadTermByReference">loadTermByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:loadTypeOfTermByTermReference">loadTypeOfTermByTermReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:saveDeclComponent">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:loadDeclByReference">loadDeclByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:getDeclTypeByReference">getDeclTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a></li><li class="src short"><a href="#v:savePatch">savePatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></li><li class="src short"><a href="#v:loadPatchById">loadPatchById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a></li><li class="src short"><a href="#v:objectExistsForHash">objectExistsForHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:loadHashByObjectId">loadHashByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li class="src short"><a href="#v:primaryHashToMaybeObjectId">primaryHashToMaybeObjectId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:primaryHashToMaybePatchObjectId">primaryHashToMaybePatchObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>)</li><li class="src short"><a href="#v:saveWatch">saveWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m ()</li><li class="src short"><a href="#v:loadWatch">loadWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:listWatches">listWatches</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:clearWatches">clearWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li><li class="src short"><a href="#v:before">before</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li class="src short"><a href="#v:lca">lca</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:componentReferencesByPrefix">componentReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:termReferentsByPrefix">termReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>]</li><li class="src short"><a href="#v:declReferentsByPrefix">declReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a> -&gt; m [(<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a>, <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a>, [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a>])]</li><li class="src short"><a href="#v:causalHashesByPrefix">causalHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:dependents">dependents</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>)</li><li class="src short"><a href="#v:addTypeToIndexForTerm">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m ()</li><li class="src short"><a href="#v:termsHavingType">termsHavingType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>)</li><li class="src short"><a href="#v:addTypeMentionsToIndexForTerm">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m ()</li><li class="src short"><a href="#v:termsMentioningType">termsMentioningType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>)</li><li class="src short"><a href="#v:getCycleLen">getCycleLen</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Error">Error</a><ul class="subs"><li>= <a href="#v:DecodeError">DecodeError</a> <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> ErrString</li><li>| <a href="#v:DatabaseIntegrityError">DatabaseIntegrityError</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a></li><li>| <a href="#v:UnknownDependency">UnknownDependency</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li>| <a href="#v:UnknownText">UnknownText</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:ExpectedBranch">ExpectedBranch</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a></li><li>| <a href="#v:ExpectedBranch-39-">ExpectedBranch'</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li>| <a href="#v:LegacyUnknownCycleLen">LegacyUnknownCycleLen</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li>| <a href="#v:LegacyUnknownConstructorType">LegacyUnknownConstructorType</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a></li><li>| <a href="#v:NeedTypeForBuiltinMetadata">NeedTypeForBuiltinMetadata</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DecodeError">DecodeError</a><ul class="subs"><li>= <a href="#v:ErrTermElement">ErrTermElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li>| <a href="#v:ErrDeclElement">ErrDeclElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li>| <a href="#v:ErrFramedArrayLen">ErrFramedArrayLen</a></li><li>| <a href="#v:ErrTypeOfTerm">ErrTypeOfTerm</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></li><li>| <a href="#v:ErrWatch">ErrWatch</a> <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></li><li>| <a href="#v:ErrBranch">ErrBranch</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a></li><li>| <a href="#v:ErrPatch">ErrPatch</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></li><li>| <a href="#v:ErrObjectDependencies">ErrObjectDependencies</a> <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:EDB">EDB</a> m = (Err m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m)</li><li class="src short"><a href="#v:c2sReferenceId">c2sReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a></li><li class="src short"><a href="#v:c2sReferentId">c2sReferentId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a></li><li class="src short"><a href="#v:diffPatch">diffPatch</a> :: <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Diff.html#t:LocalPatchDiff" title="U.Codebase.Sqlite.Patch.Diff">LocalPatchDiff</a></li><li class="src short"><a href="#v:decodeTermElementWithType">decodeTermElementWithType</a> :: Err m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>)</li><li class="src short"><a href="#v:loadTermWithTypeByReference">loadTermWithTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cTermWithType">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:declReferencesByPrefix">declReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:branchHashesByPrefix">branchHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>)</li><li class="src short"><a href="#v:derivedDependencies">derivedDependencies</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>data version</h1></a><div class="top"><p class="src"><a id="v:dataVersion" class="def">dataVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> <a href="src/U.Codebase.Sqlite.Operations.html#dataVersion" class="link">Source</a> <a href="#v:dataVersion" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>branches</h1></a><div class="top"><p class="src"><a id="v:saveRootBranch" class="def">saveRootBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#saveRootBranch" class="link">Source</a> <a href="#v:saveRootBranch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadMaybeRootCausalHash" class="def">loadMaybeRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadMaybeRootCausalHash" class="link">Source</a> <a href="#v:loadMaybeRootCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadRootCausalHash" class="def">loadRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadRootCausalHash" class="link">Source</a> <a href="#v:loadRootCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadRootCausal" class="def">loadRootCausal</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#loadRootCausal" class="link">Source</a> <a href="#v:loadRootCausal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveBranch" class="def">saveBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#saveBranch" class="link">Source</a> <a href="#v:saveBranch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalBranchByCausalHash" class="def">loadCausalBranchByCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m)) <a href="src/U.Codebase.Sqlite.Operations.html#loadCausalBranchByCausalHash" class="link">Source</a> <a href="#v:loadCausalBranchByCausalHash" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>terms</h1></a><div class="top"><p class="src"><a id="v:saveTermComponent" class="def">saveTermComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#saveTermComponent" class="link">Source</a> <a href="#v:saveTermComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTermByReference" class="def">loadTermByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTermByReference" class="link">Source</a> <a href="#v:loadTermByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTypeOfTermByTermReference" class="def">loadTypeOfTermByTermReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTypeOfTermByTermReference" class="link">Source</a> <a href="#v:loadTypeOfTermByTermReference" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h1>decls</h1></a><div class="top"><p class="src"><a id="v:saveDeclComponent" class="def">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#saveDeclComponent" class="link">Source</a> <a href="#v:saveDeclComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadDeclByReference" class="def">loadDeclByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadDeclByReference" class="link">Source</a> <a href="#v:loadDeclByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDeclTypeByReference" class="def">getDeclTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a> <a href="src/U.Codebase.Sqlite.Operations.html#getDeclTypeByReference" class="link">Source</a> <a href="#v:getDeclTypeByReference" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>patches</h1></a><div class="top"><p class="src"><a id="v:savePatch" class="def">savePatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#savePatch" class="link">Source</a> <a href="#v:savePatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadPatchById" class="def">loadPatchById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadPatchById" class="link">Source</a> <a href="#v:loadPatchById" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1>test for stuff in codebase</h1></a><div class="top"><p class="src"><a id="v:objectExistsForHash" class="def">objectExistsForHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Operations.html#objectExistsForHash" class="link">Source</a> <a href="#v:objectExistsForHash" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>dubiously exported stuff involving database ids</h1></a><div class="top"><p class="src"><a id="v:loadHashByObjectId" class="def">loadHashByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadHashByObjectId" class="link">Source</a> <a href="#v:loadHashByObjectId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:primaryHashToMaybeObjectId" class="def">primaryHashToMaybeObjectId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#primaryHashToMaybeObjectId" class="link">Source</a> <a href="#v:primaryHashToMaybeObjectId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:primaryHashToMaybePatchObjectId" class="def">primaryHashToMaybePatchObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#primaryHashToMaybePatchObjectId" class="link">Source</a> <a href="#v:primaryHashToMaybePatchObjectId" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>watch expression cache</h1></a><div class="top"><p class="src"><a id="v:saveWatch" class="def">saveWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#saveWatch" class="link">Source</a> <a href="#v:saveWatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatch" class="def">loadWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadWatch" class="link">Source</a> <a href="#v:loadWatch" class="selflink">#</a></p><div class="doc"><p>returns Nothing if the expression isn't cached.</p></div></div><div class="top"><p class="src"><a id="v:listWatches" class="def">listWatches</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#listWatches" class="link">Source</a> <a href="#v:listWatches" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clearWatches" class="def">clearWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#clearWatches" class="link">Source</a> <a href="#v:clearWatches" class="selflink">#</a></p></div><a href="#g:9" id="g:9"><h1>indexes</h1></a><a href="#g:10" id="g:10"><h2>nearest common ancestor</h2></a><div class="top"><p class="src"><a id="v:before" class="def">before</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) <a href="src/U.Codebase.Sqlite.Operations.html#before" class="link">Source</a> <a href="#v:before" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lca" class="def">lca</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#lca" class="link">Source</a> <a href="#v:lca" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h2>prefix index</h2></a><div class="top"><p class="src"><a id="v:componentReferencesByPrefix" class="def">componentReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#componentReferencesByPrefix" class="link">Source</a> <a href="#v:componentReferencesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termReferentsByPrefix" class="def">termReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#termReferentsByPrefix" class="link">Source</a> <a href="#v:termReferentsByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:declReferentsByPrefix" class="def">declReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a> -&gt; m [(<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a>, <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a>, [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a>])] <a href="src/U.Codebase.Sqlite.Operations.html#declReferentsByPrefix" class="link">Source</a> <a href="#v:declReferentsByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:causalHashesByPrefix" class="def">causalHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#causalHashesByPrefix" class="link">Source</a> <a href="#v:causalHashesByPrefix" class="selflink">#</a></p></div><a href="#g:12" id="g:12"><h2>dependents index</h2></a><div class="top"><p class="src"><a id="v:dependents" class="def">dependents</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#dependents" class="link">Source</a> <a href="#v:dependents" class="selflink">#</a></p><div class="doc"><p>returns a list of known definitions referencing <code>r</code></p></div></div><a href="#g:13" id="g:13"><h2>type index</h2></a><div class="top"><p class="src"><a id="v:addTypeToIndexForTerm" class="def">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#addTypeToIndexForTerm" class="link">Source</a> <a href="#v:addTypeToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termsHavingType" class="def">termsHavingType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#termsHavingType" class="link">Source</a> <a href="#v:termsHavingType" class="selflink">#</a></p></div><a href="#g:14" id="g:14"><h2>type mentions index</h2></a><div class="top"><p class="src"><a id="v:addTypeMentionsToIndexForTerm" class="def">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#addTypeMentionsToIndexForTerm" class="link">Source</a> <a href="#v:addTypeMentionsToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termsMentioningType" class="def">termsMentioningType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#termsMentioningType" class="link">Source</a> <a href="#v:termsMentioningType" class="selflink">#</a></p></div><a href="#g:15" id="g:15"><h1>delete me</h1></a><div class="top"><p class="src"><a id="v:getCycleLen" class="def">getCycleLen</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/U.Codebase.Sqlite.Operations.html#getCycleLen" class="link">Source</a> <a href="#v:getCycleLen" class="selflink">#</a></p></div><a href="#g:16" id="g:16"><h1>Error types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Error" class="def">Error</a> <a href="src/U.Codebase.Sqlite.Operations.html#Error" class="link">Source</a> <a href="#t:Error" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DecodeError" class="def">DecodeError</a> <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> ErrString</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DatabaseIntegrityError" class="def">DatabaseIntegrityError</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownDependency" class="def">UnknownDependency</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownText" class="def">UnknownText</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExpectedBranch" class="def">ExpectedBranch</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExpectedBranch-39-" class="def">ExpectedBranch'</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LegacyUnknownCycleLen" class="def">LegacyUnknownCycleLen</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LegacyUnknownConstructorType" class="def">LegacyUnknownConstructorType</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NeedTypeForBuiltinMetadata" class="def">NeedTypeForBuiltinMetadata</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Error">Instances</h4><details id="i:Error" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Error:Show:1"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a></span> <a href="src/U.Codebase.Sqlite.Operations.html#line-243" class="link">Source</a> <a href="#t:Error" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Error:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Operations.html">U.Codebase.Sqlite.Operations</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DecodeError" class="def">DecodeError</a> <a href="src/U.Codebase.Sqlite.Operations.html#DecodeError" class="link">Source</a> <a href="#t:DecodeError" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ErrTermElement" class="def">ErrTermElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrDeclElement" class="def">ErrDeclElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrFramedArrayLen" class="def">ErrFramedArrayLen</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrTypeOfTerm" class="def">ErrTypeOfTerm</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrWatch" class="def">ErrWatch</a> <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrBranch" class="def">ErrBranch</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrPatch" class="def">ErrPatch</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrObjectDependencies" class="def">ErrObjectDependencies</a> <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DecodeError">Instances</h4><details id="i:DecodeError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DecodeError:Show:1"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a></span> <a href="src/U.Codebase.Sqlite.Operations.html#line-231" class="link">Source</a> <a href="#t:DecodeError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DecodeError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Operations.html">U.Codebase.Sqlite.Operations</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:17" id="g:17"><h2>Constraint kinds</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EDB" class="def">EDB</a> m = (Err m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#EDB" class="link">Source</a> <a href="#t:EDB" class="selflink">#</a></p></div><a href="#g:18" id="g:18"><h1>somewhat unexpectedly unused definitions</h1></a><div class="top"><p class="src"><a id="v:c2sReferenceId" class="def">c2sReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sReferenceId" class="link">Source</a> <a href="#v:c2sReferenceId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2sReferentId" class="def">c2sReferentId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sReferentId" class="link">Source</a> <a href="#v:c2sReferentId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:diffPatch" class="def">diffPatch</a> :: <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Diff.html#t:LocalPatchDiff" title="U.Codebase.Sqlite.Patch.Diff">LocalPatchDiff</a> <a href="src/U.Codebase.Sqlite.Operations.html#diffPatch" class="link">Source</a> <a href="#v:diffPatch" class="selflink">#</a></p><div class="doc"><p>produces a diff
 diff = full - ref; full = diff + ref</p></div></div><div class="top"><p class="src"><a id="v:decodeTermElementWithType" class="def">decodeTermElementWithType</a> :: Err m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>) <a href="src/U.Codebase.Sqlite.Operations.html#decodeTermElementWithType" class="link">Source</a> <a href="#v:decodeTermElementWithType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTermWithTypeByReference" class="def">loadTermWithTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTermWithTypeByReference" class="link">Source</a> <a href="#v:loadTermWithTypeByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cTermWithType" class="def">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#s2cTermWithType" class="link">Source</a> <a href="#v:s2cTermWithType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:declReferencesByPrefix" class="def">declReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#declReferencesByPrefix" class="link">Source</a> <a href="#v:declReferencesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:branchHashesByPrefix" class="def">branchHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#branchHashesByPrefix" class="link">Source</a> <a href="#v:branchHashesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:derivedDependencies" class="def">derivedDependencies</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#derivedDependencies" class="link">Source</a> <a href="#v:derivedDependencies" class="selflink">#</a></p><div class="doc"><p>returns empty set for unknown inputs; doesn't distinguish between term and decl</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>